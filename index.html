<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IT Knowledge & Forum Logs</title>
    <style>
        :root {
            --primary: #4f46e5;
            --bg: #f3f4f7;
            --card: #ffffff;
            --text-main: #1e293b;
            --text-muted: #64748b;
            --border: #e2e8f0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, sans-serif;
            background-color: var(--bg);
            color: var(--text-main);
            margin: 0;
            line-height: 1.6;
        }

        /* Forum Header */
        header {
            background: #ffffff;
            border-bottom: 1px solid var(--border);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-links { display: flex; gap: 20px; }
        .nav-links span {
            cursor: pointer;
            font-weight: 600;
            color: var(--text-muted);
            transition: 0.2s;
        }
        .nav-links span.active { color: var(--primary); border-bottom: 2px solid var(--primary); }

        .container { max-width: 800px; margin: 20px auto; padding: 0 15px; }
        .page { display: none; }
        .page.active { display: block; }

        /* Forum Post Creator */
        .post-creator {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid var(--border);
            margin-bottom: 25px;
        }

        input, textarea, select {
            width: 100%;
            padding: 12px;
            margin-bottom: 10px;
            border: 1px solid var(--border);
            border-radius: 6px;
            background: #f9fafb;
        }

        .btn-post {
            background: var(--primary);
            color: white;
            border: none;
            padding: 10px 24px;
            border-radius: 20px;
            font-weight: bold;
            cursor: pointer;
            float: right;
        }

        /* Forum Feed Item */
        .forum-post {
            background: white;
            border: 1px solid var(--border);
            border-radius: 8px;
            margin-bottom: 15px;
            position: relative;
            padding: 20px;
        }

        .post-header { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
        .user-avatar { width: 40px; height: 40px; background: #ddd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white; background: var(--primary); }
        .post-info h4 { margin: 0; font-size: 1rem; }
        .post-info span { font-size: 0.8rem; color: var(--text-muted); }

        .post-body { margin-top: 10px; }
        .tag { display: inline-block; padding: 2px 10px; border-radius: 12px; font-size: 0.75rem; font-weight: bold; text-transform: uppercase; margin-bottom: 8px; }
        .tag-solved { background: #dcfce7; color: #166534; }
        .tag-pending { background: #fef9c3; color: #854d0e; }

        /* 3-Dots Menu */
        .menu-container { position: absolute; top: 15px; right: 15px; }
        .dots-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-muted);
            padding: 5px;
        }
        .dropdown {
            position: absolute;
            right: 0;
            top: 30px;
            background: white;
            border: 1px solid var(--border);
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            display: none;
            z-index: 10;
            width: 120px;
        }
        .dropdown button {
            display: block;
            width: 100%;
            padding: 10px;
            text-align: left;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 0.9rem;
        }
        .dropdown button:hover { background: #f3f4f6; }

        /* Knowledge Base */
        .kb-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .kb-card { background: white; padding: 20px; border-radius: 8px; border: 1px solid var(--border); cursor: pointer; transition: 0.2s; }
        .kb-card:hover { border-color: var(--primary); box-shadow: 0 4px 12px rgba(0,0,0,0.05); }

        .info-panel { background: #eef2ff; padding: 25px; border-radius: 10px; margin-top: 20px; display: none; border-left: 4px solid var(--primary); }
    </style>
</head>
<body>

<header>
    <h2 style="color: var(--primary); margin:0;">IT Community Hub</h2>
    <div class="nav-links">
        <span id="nav-log" class="active" onclick="showTab('log-tab')">Repair Feed</span>
        <span id="nav-hw" onclick="showTab('hw-tab')">Hardware Wiki</span>
        <span id="nav-sw" onclick="showTab('sw-tab')">Software Wiki</span>
    </div>
</header>

<div class="container">
    
    <div id="log-tab" class="page active">
        <div class="post-creator">
            <input type="text" id="dev" placeholder="Device (e.g., MacBook Pro 2021)">
            <input type="text" id="iss" placeholder="What is the issue?">
            <textarea id="sol" rows="3" placeholder="Explain the fix or steps taken..."></textarea>
            <select id="stat">
                <option value="solved">Status: Solved</option>
                <option value="pending">Status: Pending</option>
            </select>
            <button class="btn-post" onclick="addPost()">Post Log</button>
            <div style="clear:both;"></div>
        </div>
        <div id="forumArea"></div>
    </div>

    <div id="hw-tab" class="page">
        <h3>Hardware Components</h3>
        <div class="kb-grid">
            <div class="kb-card" onclick="openWiki('CPU')"><strong>CPU</strong><br><small>The Central Processor</small></div>
            <div class="kb-card" onclick="openWiki('RAM')"><strong>RAM</strong><br><small>Memory Management</small></div>
            <div class="kb-card" onclick="openWiki('GPU')"><strong>GPU</strong><br><small>Graphics Power</small></div>
            <div class="kb-card" onclick="openWiki('STORAGE')"><strong>SSD / HDD</strong><br><small>Data Storage</small></div>
        </div>
    </div>

    <div id="sw-tab" class="page">
        <h3>Software Systems</h3>
        <div class="kb-grid">
            <div class="kb-card" onclick="openWiki('OS')"><strong>Operating System</strong><br><small>System Logic</small></div>
            <div class="kb-card" onclick="openWiki('BIOS')"><strong>BIOS / UEFI</strong><br><small>Firmware Startup</small></div>
        </div>
    </div>

    <div id="infoPanel" class="info-panel">
        <h2 id="infoTitle" style="margin-top:0;"></h2>
        <p id="infoText"></p>
    </div>

</div>

<script>
    // Data for Wiki
    const wikiData = {
        'CPU': 'The Central Processing Unit (CPU) is the brain of the computer. It carries out every instruction of a computer program by performing basic arithmetic, logic, controlling, and input/output operations. Modern processors have multiple cores to handle multitasking efficiently.',
        'RAM': 'Random Access Memory (RAM) is the "working memory" of a PC. It stores data that the CPU needs in real-time. Unlike storage (SSD), RAM is cleared every time you restart your computer. Having more RAM allows you to open more Chrome tabs and apps without the system freezing.',
        'GPU': 'The Graphics Processing Unit (GPU) is a specialized processor originally designed to accelerate graphics rendering. It is now essential for high-end gaming, video editing, and AI processing because it can perform thousands of small tasks simultaneously.',
        'STORAGE': 'Storage devices like SSDs (Solid State Drives) and HDDs (Hard Drives) hold your files permanently. SSDs are much faster because they use flash memory, whereas HDDs use spinning magnetic disks which are prone to physical failure over time.',
        'OS': 'The Operating System (OS) is the main software that manages hardware and other apps. Whether it is Windows, macOS, or Linux, the OS provides the interface that allows you to click icons and open files without needing to understand machine code.',
        'BIOS': 'The BIOS (Basic Input/Output System) is the very first program that runs when you power on. It checks if your hardware is healthy and then hands the responsibility to the Operating System to boot up.'
    };

    // Initialize logs from LocalStorage
    let posts = JSON.parse(localStorage.getItem('it_forum_logs')) || [];

    function showTab(tab) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.nav-links span').forEach(s => s.classList.remove('active'));
        document.getElementById(tab).classList.add('active');
        document.getElementById('nav-' + tab.split('-')[0]).classList.add('active');
        document.getElementById('infoPanel').style.display = 'none';
    }

    function openWiki(key) {
        const panel = document.getElementById('infoPanel');
        document.getElementById('infoTitle').innerText = key;
        document.getElementById('infoText').innerText = wikiData[key];
        panel.style.display = 'block';
        panel.scrollIntoView({ behavior: 'smooth' });
    }

    function renderPosts() {
        const area = document.getElementById('forumArea');
        area.innerHTML = '';
        posts.forEach((post, index) => {
            const html = `
                <div class="forum-post">
                    <div class="menu-container">
                        <button class="dots-btn" onclick="toggleMenu(${index})">‚ãÆ</button>
                        <div id="menu-${index}" class="dropdown">
                            <button onclick="editPost(${index})">‚úèÔ∏è Edit</button>
                            <button onclick="copyPost(${index})">üìã Copy</button>
                            <button style="color:red;" onclick="deletePost(${index})">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                    <div class="post-header">
                        <div class="user-avatar">${post.dev.charAt(0)}</div>
                        <div class="post-info">
                            <h4>User Terminal - ${post.dev}</h4>
                            <span>Posted on ${post.date}</span>
                        </div>
                    </div>
                    <div class="post-body">
                        <span class="tag ${post.stat === 'solved' ? 'tag-solved' : 'tag-pending'}">${post.stat}</span>
                        <div style="font-weight:bold; font-size:1.1rem; margin-bottom:5px;">${post.iss}</div>
                        <p style="color:#4b5563; margin:0;">${post.sol}</p>
                    </div>
                </div>
            `;
            area.insertAdjacentHTML('beforeend', html);
        });
    }

    function addPost() {
        const dev = document.getElementById('dev').value;
        const iss = document.getElementById('iss').value;
        const sol = document.getElementById('sol').value;
        const stat = document.getElementById('stat').value;

        if(!dev || !iss) return alert("Please fill in the device and issue.");

        const newPost = { dev, iss, sol, stat, date: new Date().toLocaleString() };
        posts.unshift(newPost);
        localStorage.setItem('it_forum_logs', JSON.stringify(posts));
        
        // Reset and show
        document.getElementById('dev').value = '';
        document.getElementById('iss').value = '';
        document.getElementById('sol').value = '';
        renderPosts();
    }

    function toggleMenu(index) {
        const menu = document.getElementById(`menu-${index}`);
        const allMenus = document.querySelectorAll('.dropdown');
        allMenus.forEach(m => { if(m !== menu) m.style.display = 'none'; });
        menu.style.display = (menu.style.display === 'block') ? 'none' : 'block';
    }

    function deletePost(index) {
        posts.splice(index, 1);
        localStorage.setItem('it_forum_logs', JSON.stringify(posts));
        renderPosts();
    }

    function editPost(index) {
        const newSol = prompt("Update the resolution details:", posts[index].sol);
        if(newSol !== null) {
            posts[index].sol = newSol;
            localStorage.setItem('it_forum_logs', JSON.stringify(posts));
            renderPosts();
        }
    }

    function copyPost(index) {
        const text = `Device: ${posts[index].dev}\nIssue: ${posts[index].iss}\nResolution: ${posts[index].sol}`;
        navigator.clipboard.writeText(text);
        alert("Post details copied!");
    }

    // Close menus when clicking outside
    window.onclick = function(event) {
        if (!event.target.matches('.dots-btn')) {
            document.querySelectorAll('.dropdown').forEach(m => m.style.display = 'none');
        }
    }

    renderPosts();
</script>

</body>
</html>
